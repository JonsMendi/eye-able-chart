{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/JonsMendi/Desktop/Personal/Coding-Challenges/eye-able-chart/eye-able-chart/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/Users/JonsMendi/Desktop/Personal/Coding-Challenges/eye-able-chart/eye-able-chart/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/Users/JonsMendi/Desktop/Personal/Coding-Challenges/eye-able-chart/eye-able-chart/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/JonsMendi/Desktop/Personal/Coding-Challenges/eye-able-chart/eye-able-chart/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../App.css\";import{useState,useEffect}from\"react\";import Chart from\"./Chart/Chart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Body(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),population=_useState2[0],setPopulation=_useState2[1];var _useState3=useState(10),_useState4=_slicedToArray(_useState3,2),yearFilter=_useState4[0],setYearFilter=_useState4[1];var _useState5=useState({// Create state variable for chart data and its setter\nlabels:[],datasets:[{label:\"Population\",data:[],backgroundColor:[\"black\"],borderColor:\"gray\",borderWidth:2,pointBackgroundColor:\"#FFD050\",pointBorderColor:\"black\",pointBorderWidth:2,pointHoverBackgroundColor:\"#FFD866\",pointHoverBorderColor:\"#FFD866\",pointHoverRadius:7,pointRadius:8}]}),_useState6=_slicedToArray(_useState5,2),chartData=_useState6[0],setChartData=_useState6[1];/**\r\n   * Fetch the data from the API\r\n   */function fetchPopulation(){return _fetchPopulation.apply(this,arguments);}function _fetchPopulation(){_fetchPopulation=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://datausa.io/api/data?drilldowns=Nation&measures=Population\");case 2:response=_context.sent;_context.next=5;return response.json();case 5:data=_context.sent;setPopulation(data.data);case 7:case\"end\":return _context.stop();}},_callee);}));return _fetchPopulation.apply(this,arguments);}useEffect(function(){// Fetch the population data once when the component mounts\nfetchPopulation();},[]);useEffect(function(){// Check if there is population data available\nif(population.length>0){// Filter the population data based on the selected year filter\nvar filteredPopulation=population.filter(function(item){return!yearFilter||new Date(item.Year).getFullYear()>=new Date().getFullYear()-yearFilter;});// Map the year data from the filtered population data to an array\nvar labels=filteredPopulation.map(function(data){return data.Year;});// Map the population data from the filtered population data to an array\nvar data=filteredPopulation.map(function(data){return data.Population;});// Update the chart data state variable with the new data\nsetChartData(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{labels:labels,datasets:[_objectSpread(_objectSpread({},prevState.datasets[0]),{},{data:data})]});});}},[yearFilter,population]);// Update the year filter state variable when the user clicks on a filter button\nfunction handleYearFilterChange(event,value){setYearFilter(parseInt(value));}return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-5xl font-bold text-gray-800 mt-10 main-title\",children:\"United States of America\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-500 font-bold mt-2\",children:\"Behold the Population Surge!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-grow w-full mt-10\",children:[/*#__PURE__*/_jsx(Chart,{chartData:chartData}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center justify-center mt-7\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-lg font-bold mr-2 text-gray-800 mb-5\",children:\"You can filter by years length:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleYearFilterChange(event,3);},className:\"p-2 text-lg rounded-md border-2 \".concat(yearFilter===3?\"bg-orange-500 border-black text-black\":\"bg-white border-black text-black\",\" hover:bg-orange-400 hover:transition-colors ease-in-out duration-300\"),children:\"Last 3 years\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleYearFilterChange(event,5);},className:\"p-2 text-lg rounded-md border-2 \".concat(yearFilter===5?\"bg-orange-500 border-black text-black\":\"bg-white border-black text-black\",\" hover:bg-orange-400 hover:transition-colors ease-in-out duration-300\"),children:\"Last 5 years\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleYearFilterChange(event,10);},className:\"p-2 text-lg rounded-md border-2 \".concat(yearFilter===10?\"bg-orange-500 border-black text-black\":\"bg-white border-black text-black\",\" hover:bg-orange-400 hover:transition-colors ease-in-out duration-300\"),children:\"Last 10 years\"})]})]})]})]});}export default Body;","map":{"version":3,"names":["useState","useEffect","Chart","jsx","_jsx","jsxs","_jsxs","Body","_useState","_useState2","_slicedToArray","population","setPopulation","_useState3","_useState4","yearFilter","setYearFilter","_useState5","labels","datasets","label","data","backgroundColor","borderColor","borderWidth","pointBackgroundColor","pointBorderColor","pointBorderWidth","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverRadius","pointRadius","_useState6","chartData","setChartData","fetchPopulation","_fetchPopulation","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","fetch","sent","json","stop","length","filteredPopulation","filter","item","Date","Year","getFullYear","map","Population","prevState","_objectSpread","handleYearFilterChange","event","value","parseInt","className","children","onClick","concat"],"sources":["C:/Users/JonsMendi/Desktop/Personal/Coding-Challenges/eye-able-chart/eye-able-chart/src/components/Body.jsx"],"sourcesContent":["import \"../App.css\";\r\nimport { useState, useEffect } from \"react\";\r\nimport Chart from \"./Chart/Chart\";\r\n\r\nfunction Body() {\r\n  const [population, setPopulation] = useState([]);\r\n  const [yearFilter, setYearFilter] = useState(10);\r\n  const [chartData, setChartData] = useState({\r\n    // Create state variable for chart data and its setter\r\n    labels: [],\r\n    datasets: [\r\n      {\r\n        label: \"Population\",\r\n        data: [],\r\n        backgroundColor: [\"black\"],\r\n        borderColor: \"gray\",\r\n        borderWidth: 2,\r\n        pointBackgroundColor: \"#FFD050\",\r\n        pointBorderColor: \"black\",\r\n        pointBorderWidth: 2,\r\n        pointHoverBackgroundColor: \"#FFD866\",\r\n        pointHoverBorderColor: \"#FFD866\",\r\n        pointHoverRadius: 7,\r\n        pointRadius: 8,\r\n      },\r\n    ],\r\n  });\r\n\r\n  /**\r\n   * Fetch the data from the API\r\n   */\r\n  async function fetchPopulation() {\r\n    const response = await fetch(\r\n      \"https://datausa.io/api/data?drilldowns=Nation&measures=Population\"\r\n    );\r\n    const data = await response.json();\r\n    setPopulation(data.data);\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Fetch the population data once when the component mounts\r\n    fetchPopulation();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // Check if there is population data available\r\n    if (population.length > 0) {\r\n    // Filter the population data based on the selected year filter\r\n      const filteredPopulation = population.filter(\r\n        (item) =>\r\n          !yearFilter ||\r\n          new Date(item.Year).getFullYear() >=\r\n            new Date().getFullYear() - yearFilter\r\n      );\r\n      // Map the year data from the filtered population data to an array\r\n      const labels = filteredPopulation.map((data) => data.Year);\r\n      // Map the population data from the filtered population data to an array\r\n      const data = filteredPopulation.map((data) => data.Population);\r\n\r\n      // Update the chart data state variable with the new data\r\n      setChartData((prevState) => {\r\n        return {\r\n          ...prevState,\r\n          labels: labels,\r\n          datasets: [\r\n            {\r\n              ...prevState.datasets[0],\r\n              data: data,\r\n            },\r\n          ],\r\n        };\r\n      });\r\n    }\r\n  }, [yearFilter, population]);\r\n\r\n  // Update the year filter state variable when the user clicks on a filter button\r\n  function handleYearFilterChange(event, value) {\r\n    setYearFilter(parseInt(value));\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center justify-center\">\r\n      <h1 className=\"text-5xl font-bold text-gray-800 mt-10 main-title\">United States of America</h1>\r\n      <p className=\"text-lg text-gray-500 font-bold mt-2\">Behold the Population Surge!</p>\r\n      <div className=\"relative flex-grow w-full mt-10\">\r\n        <Chart chartData={chartData} />\r\n        <div className=\"flex flex-col items-center justify-center mt-7\">\r\n          <label className=\"text-lg font-bold mr-2 text-gray-800 mb-5\">\r\n            You can filter by years length:\r\n          </label>\r\n          <div className=\"flex justify-center space-x-4\">\r\n            <button\r\n              onClick={(event) => handleYearFilterChange(event, 3)}\r\n              className={`p-2 text-lg rounded-md border-2 ${\r\n                yearFilter === 3\r\n                  ? \"bg-orange-500 border-black text-black\"\r\n                  : \"bg-white border-black text-black\"\r\n              } hover:bg-orange-400 hover:transition-colors ease-in-out duration-300`}\r\n            >\r\n              Last 3 years\r\n            </button>\r\n            <button\r\n              onClick={(event) => handleYearFilterChange(event, 5)}\r\n              className={`p-2 text-lg rounded-md border-2 ${\r\n                yearFilter === 5\r\n                  ? \"bg-orange-500 border-black text-black\"\r\n                  : \"bg-white border-black text-black\"\r\n              } hover:bg-orange-400 hover:transition-colors ease-in-out duration-300`}\r\n            >\r\n              Last 5 years\r\n            </button>\r\n            <button\r\n              onClick={(event) => handleYearFilterChange(event, 10)}\r\n              className={`p-2 text-lg rounded-md border-2 ${\r\n                yearFilter === 10\r\n                  ? \"bg-orange-500 border-black text-black\"\r\n                  : \"bg-white border-black text-black\"\r\n              } hover:bg-orange-400 hover:transition-colors ease-in-out duration-300`}\r\n            >\r\n              Last 10 years\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Body;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}